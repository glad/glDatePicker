/*
	glDatePicker v1.4 - http://code.gautamlad.com/glDatePicker/
	Compiled using Google Closure Compiler - http://closure-compiler.appspot.com/home
*/
(function(c){var s={calId:0,cssName:"default",startDate:-1,endDate:-1,selectedDate:-1,showPrevNext:!0,allowOld:!0,showAlways:!1,position:"absolute",monthNames:"January February March April May June July August September October November December".split(" "),dayNames:"Sun Mon Tue Wed Thu Fri Sat".split(" "),formatDay:function(a,b,c){return b+"/"+c+"/"+a}},j={init:function(a){return this.each(function(){var b=c(this),k=c.extend({},s);k.calId=b[0].id+"-gldp";a&&(k=c.extend(k,a));b.data("settings",k);
b.click(j.show).focus(j.show);k.showAlways&&setTimeout(function(){b.trigger("focus")},50);c(document).bind("click",function(){j.hide.apply(b)})})},show:function(a){a.stopPropagation();j.hide.apply(c("._gldp").not(c(this)));j.update.apply(c(this))},hide:function(){if(c(this).length){var a=c(this).data("settings");a&&!a.showAlways&&(c("#"+a.calId).slideUp(200),c(this).removeClass("_gldp"))}},setStartDate:function(a){c(this).data("settings").startDate=a},setEndDate:function(a){c(this).data("settings").endDate=
a},setSelectedDate:function(a){c(this).data("settings").selectedDate=a},update:function(){var a=c(this),b=a.data("settings"),k=b.calId,d=b.startDate;-1==b.startDate&&(d=new Date,d.setDate(1));d.setHours(0,0,0,0);var f=d.getTime(),e=new Date(0);-1!=b.endDate&&(e=new Date(b.endDate),/^\d+$/.test(b.endDate)&&(e=new Date(d),e.setDate(e.getDate()+b.endDate)));e.setHours(0,0,0,0);var e=e.getTime(),h=new Date(0);-1!=b.selectedDate&&(h=new Date(b.selectedDate),/^\d+$/.test(b.selectedDate)&&(h=new Date(d),
h.setDate(h.getDate()+b.selectedDate)));h.setHours(0,0,0,0);var h=h.getTime(),i=a.data("theDate"),i=-1==i||"undefined"==typeof i?d:i,m=new Date(i);m.setDate(1);var s=m.getTime(),d=new Date(m);d.setMonth(d.getMonth()+1);d.setDate(0);var x=d.getTime(),u=d.getDate(),n=new Date(m);n.setDate(0);n=n.getDate();a.data("theDate",i);for(var d="",v=0,w=0;6>v;v++){for(var t="",r=0;7>r;r++,w++){var p=n-m.getDay()+w+1,q=p-n,g=0==r?"sun":6==r?"sat":"day";if(1<=q&&q<=u){p=new Date;p.setHours(0,0,0,0);var l=new Date(i);
l.setHours(0,0,0,0);l.setDate(q);l=l.getTime();g=p.getTime()==l?"today":g;b.allowOld||(g=l<f?"noday":g);-1!=b.endDate&&(g=l>e?"noday":g);-1!=b.selectedDate&&(g=l==h?"selected":g)}else g="noday",q=0>=q?p:p-u-n;t+="<td class='gldp-days "+g+" **-"+g+"'><div class='"+g+"'>"+q+"</div></td>"}d+="<tr class='days'>"+t+"</tr>"}h=f<s||b.allowOld;e=x<e||e<f;b.showPrevNext||(h=e=!1);f=b.monthNames[i.getMonth()]+"&nbsp;"+i.getFullYear();e="<div class='**'><table><tr>"+("<td class='**-prevnext prev'>"+(h?"\u25c4":
"")+"</td>")+"<td class='**-monyear' colspan='5'>{MY}</td>"+("<td class='**-prevnext next'>"+(e?"\u25ba":"")+"</td>")+"</tr><tr class='**-dow'><td>"+b.dayNames[0]+"</td><td>"+b.dayNames[1]+"</td><td>"+b.dayNames[2]+"</td><td>"+b.dayNames[3]+"</td><td>"+b.dayNames[4]+"</td><td>"+b.dayNames[5]+"</td><td>"+b.dayNames[6]+"</td></tr>"+d+"</table></div>";e=e.replace(/\*{2}/gi,"gldp-"+b.cssName).replace(/\{MY\}/gi,f);f=c("#"+k);0==f.length&&(f=c("<div id='"+k+"'></div>"),b.showAlways?f.appendTo(a):f.appendTo(document.body).css({position:b.position,
"z-index":a.closest(".modal").length?999600:100}));f.html(e).css({left:a.offset().left,top:a.offset().top+a.outerHeight()}).slideDown(200);a.addClass("_gldp");c("[class*=-prevnext]",f).click(function(b){b.stopPropagation();if(""!=c(this).html()){var b=c(this).hasClass("prev")?-1:1,d=new Date(m);d.setMonth(i.getMonth()+b);a.data("theDate",d);j.update.apply(a)}});c("tr.days td:not(.noday, .selected)",f).mouseenter(function(){var a="gldp-"+b.cssName+"-"+c(this).children("div").attr("class");c(this).removeClass(a).addClass(a+
"-hover")}).mouseleave(function(){if(!c(this).hasClass("selected")){var a="gldp-"+b.cssName+"-"+c(this).children("div").attr("class");c(this).removeClass(a+"-hover").addClass(a)}}).click(function(b){b.stopPropagation();var b=c(this).children("div").html(),d=a.data("settings"),e=new Date(i);e.setDate(b);a.data("theDate",e);a.val(d.formatDay(e.getFullYear(),e.getMonth()+1,e.getDate()));if(null!=d.onChange&&"undefined"!=typeof d.onChange)d.onChange(a,e);d.selectedDate=e;j.hide.apply(a)})}};c.fn.glDatePicker=
function(a){if(j[a])return j[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return j.init.apply(this,arguments);c.error("Method "+a+" does not exist on jQuery.glDatePicker")}})(jQuery);